{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<style>
    .sidebar {
        min-height: calc(100vh - 56px);
        background-color: #f8f9fa;
        padding: 20px;
    }
    .content {
        padding: 20px;
    }
    .nav-link {
        color: #495057;
    }
    .nav-link:hover {
        color: #0d6efd;
    }
    .nav-link.active {
        color: #0d6efd;
        font-weight: bold;
    }
    .card {
        margin-bottom: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .table th {
        background-color: #f8f9fa;
    }
    .btn-primary {
        background-color: #0d6efd;
        border-color: #0d6efd;
    }
    .btn-primary:hover {
        background-color: #0b5ed7;
        border-color: #0a58ca;
    }
    .course-header {
        background-color: var(--primary-color);
        color: white;
        padding: 2rem 0;
        margin-bottom: 2rem;
    }

    .course-header h1 {
        margin: 0;
        font-size: 2rem;
    }

    .course-header .course-details {
        margin-top: 0.5rem;
        opacity: 0.9;
    }

    .course-actions {
        margin-bottom: 2rem;
    }

    .course-actions .btn {
        margin-right: 0.5rem;
    }

    .course-card {
        margin-bottom: 1.5rem;
    }

    .course-card .card-header {
        background-color: var(--primary-color);
        color: white;
        font-weight: bold;
    }

    .course-card .card-body {
        padding: 1.5rem;
    }

    .course-card .list-group-item {
        border-left: none;
        border-right: none;
    }

    .course-card .list-group-item:first-child {
        border-top: none;
    }

    .course-card .list-group-item:last-child {
        border-bottom: none;
    }

    .course-card .badge {
        font-size: 0.8rem;
        padding: 0.4rem 0.6rem;
    }

    .course-card .progress {
        height: 0.5rem;
        margin-top: 0.5rem;
    }

    .course-card .table th {
        background-color: var(--primary-color);
        color: white;
        font-weight: normal;
    }

    .course-card .table td {
        vertical-align: middle;
    }

    .course-card .form-control:focus {
        border-color: var(--accent-color);
        box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);
    }

    .course-card .btn-outline-primary {
        color: var(--accent-color);
        border-color: var(--accent-color);
    }

    .course-card .btn-outline-primary:hover {
        background-color: var(--accent-color);
        color: white;
    }

    .course-card .btn-outline-danger {
        color: var(--danger-color);
        border-color: var(--danger-color);
    }

    .course-card .btn-outline-danger:hover {
        background-color: var(--danger-color);
        color: white;
    }

    .course-card .btn-outline-success {
        color: var(--success-color);
        border-color: var(--success-color);
    }

    .course-card .btn-outline-success:hover {
        background-color: var(--success-color);
        color: white;
    }

    .course-card .btn-outline-warning {
        color: var(--warning-color);
        border-color: var(--warning-color);
    }

    .course-card .btn-outline-warning:hover {
        background-color: var(--warning-color);
        color: white;
    }

    .course-card .alert {
        margin-bottom: 1rem;
    }

    .course-card .alert:last-child {
        margin-bottom: 0;
    }

    .course-card .alert-info {
        background-color: rgba(52, 152, 219, 0.1);
        border-color: var(--accent-color);
        color: var(--accent-color);
    }

    .course-card .alert-success {
        background-color: rgba(46, 204, 113, 0.1);
        border-color: var(--success-color);
        color: var(--success-color);
    }

    .course-card .alert-warning {
        background-color: rgba(241, 196, 15, 0.1);
        border-color: var(--warning-color);
        color: var(--warning-color);
    }

    .course-card .alert-danger {
        background-color: rgba(231, 76, 60, 0.1);
        border-color: var(--danger-color);
        color: var(--danger-color);
    }

    .course-card .form-label {
        font-weight: 500;
        margin-bottom: 0.5rem;
    }

    .course-card .form-text {
        color: #6c757d;
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }

    .course-card .invalid-feedback {
        font-size: 0.875rem;
    }

    .course-card .was-validated .form-control:invalid,
    .course-card .form-control.is-invalid {
        border-color: var(--danger-color);
    }

    .course-card .was-validated .form-control:valid,
    .course-card .form-control.is-valid {
        border-color: var(--success-color);
    }

    .course-card .was-validated .form-check-input:invalid,
    .course-card .form-check-input.is-invalid {
        border-color: var(--danger-color);
    }

    .course-card .was-validated .form-check-input:valid,
    .course-card .form-check-input.is-valid {
        border-color: var(--success-color);
    }

    .course-card .was-validated .form-check-input:invalid ~ .form-check-label,
    .course-card .form-check-input.is-invalid ~ .form-check-label {
        color: var(--danger-color);
    }

    .course-card .was-validated .form-check-input:valid ~ .form-check-label,
    .course-card .form-check-input.is-valid ~ .form-check-label {
        color: var(--success-color);
    }

    .course-card .was-validated .form-check-input:invalid:checked,
    .course-card .form-check-input.is-invalid:checked {
        background-color: var(--danger-color);
    }

    .course-card .was-validated .form-check-input:valid:checked,
    .course-card .form-check-input.is-valid:checked {
        background-color: var(--success-color);
    }

    .course-card .was-validated .form-check-input:invalid:focus,
    .course-card .form-check-input.is-invalid:focus {
        box-shadow: 0 0 0 0.2rem rgba(231, 76, 60, 0.25);
    }

    .course-card .was-validated .form-check-input:valid:focus,
    .course-card .form-check-input.is-valid:focus {
        box-shadow: 0 0 0 0.2rem rgba(46, 204, 113, 0.25);
    }

    .course-card .was-validated .form-check-input:invalid ~ .invalid-feedback,
    .course-card .form-check-input.is-invalid ~ .invalid-feedback {
        display: block;
    }

    .course-card .was-validated .form-check-input:valid ~ .valid-feedback,
    .course-card .form-check-input.is-valid ~ .valid-feedback {
        display: block;
    }

    .course-card .was-validated .form-check-input:invalid ~ .valid-feedback,
    .course-card .form-check-input.is-invalid ~ .valid-feedback {
        display: none;
    }

    .course-card .was-validated .form-check-input:valid ~ .invalid-feedback,
    .course-card .form-check-input.is-valid ~ .invalid-feedback {
        display: none;
    }

    .course-card .was-validated .form-check-input:invalid:checked ~ .form-check-label,
    .course-card .form-check-input.is-invalid:checked ~ .form-check-label {
        color: white;
    }

    .course-card .was-validated .form-check-input:valid:checked ~ .form-check-label,
    .course-card .form-check-input.is-valid:checked ~ .form-check-label {
        color: white;
    }

    .course-card .was-validated .form-check-input:invalid:checked ~ .invalid-feedback,
    .course-card .form-check-input.is-invalid:checked ~ .invalid-feedback {
        color: white;
    }

    .course-card .was-validated .form-check-input:valid:checked ~ .valid-feedback,
    .course-card .form-check-input.is-valid:checked ~ .valid-feedback {
        color: white;
    }

    .course-card .was-validated .form-check-input:invalid:checked ~ .valid-feedback,
    .course-card .form-check-input.is-invalid:checked ~ .valid-feedback {
        display: none;
    }

    .course-card .was-validated .form-check-input:valid:checked ~ .invalid-feedback,
    .course-card .form-check-input.is-valid:checked ~ .invalid-feedback {
        display: none;
    }
</style>
{% endblock %}

{% block content %}
<div class="course-header">
    <div class="container">
        <h1>{% block course_title %}{% endblock %}</h1>
        <div class="course-details">
            {% block course_details %}{% endblock %}
        </div>
    </div>
</div>

<div class="container">
    <div class="course-actions">
        {% block course_actions %}{% endblock %}
    </div>

    {% block course_content %}{% endblock %}
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    // Initialize all tooltips
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    });

    // Initialize all popovers
    var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'))
    var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
        return new bootstrap.Popover(popoverTriggerEl)
    });

    // Auto-hide alerts after 5 seconds
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
            var alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                var bsAlert = new bootstrap.Alert(alert);
                bsAlert.close();
            });
        }, 5000);
    });

    // Form validation
    (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms).forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }
                form.classList.add('was-validated')
            }, false)
        })
    })();
</script>
{% endblock %} 